#include <stdio.h>  
#include <math.h>  
double f(double x, double y) //dy/dx=f(x,y),y'=-y+x+1  
{  
    return -y + x + 1;  
}  
int main()  
{  
    int m;  
    int i;  
    double a, b, y0;  
    double xn, yn, xnl, ynl, ynlb;  
    double h, tmp;  
    printf("请输入区间的上下限a,b的值:");  
    scanf("%lf%lf", &a, &b);  
    printf("请输入y0的值:");  
    scanf("%lf", &y0);  
    printf("请输入m来把区间分成m等份:");  
    scanf("%d", &m);  
    if (m <= 0)  
    {  
        printf("请输入大于１的数\n");  
        return 1;  
    }  
    h = (b - a) / m;  
    xn = a;  
    yn = y0;  
    for (i = 1; i <= m; i++)  
    {  
        xnl = xn + h;  
        ynlb = yn + h * f(xn, yn);  
        ynl = yn + h / 2 * (f(xn, yn) + f(xnl, ynlb));  
        printf("x%d=%lf,y%d=%lf\n", i, xnl, i, ynl);  
        xn = xnl;  
        yn = ynl;  
    }  
    return 0;  
}  
